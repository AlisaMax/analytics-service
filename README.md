
### Тестирование:
- **Vitest 3.2.4** - unit и integration тесты
- **Playwright 1.53.1** - end-to-end тестирование
- **Testing Library React 16.3.0** - утилиты для тестирования React компонентов


## Тестовые сценарии

### 1. Unit тесты (Vitest)

#### Загрузка файлов (`FileUploader.test.tsx`)
- **Рендеринг компонента в разных статусах**: проверка корректного отображения компонента загрузки файла во всех возможных состояниях (IDLE, ADDED, LOADING, SUCCESS, ERROR)

#### Отображение прогресса обработки (`AggregationResult.test.tsx`)
- **Обновление данных при получении чанков**: тестирование отображения прогресса обработки файла в реальном времени при получении данных по частям

#### Генерация CSV файлов (`Generate.test.tsx`)
- **Обработка ошибок при генерации**: проверка корректного отображения ошибок при неудачной генерации файла

#### Навигация (`HeaderMenu.test.tsx`)
- **Переходы между разделами**: тестирование корректной работы навигационного меню и переходов между страницами

#### История загрузок (`History.test.tsx`)
- **Сохранение в LocalStorage**: проверка сохранения истории операций в локальном хранилище
- **Отображение успешно обработанных файлов**: тестирование корректного отображения успешных операций на странице истории
- **Отображение некорректно обработанных файлов**: проверка отображения неудачных операций с соответствующими статусами

### 2. End-to-End тесты (Playwright)

#### Аналитическая страница (`AnalyticPage.spec.ts`)
- **Добавление файла**: проверка возможности загрузки файла при нажатии на кнопку
- **Отправка валидного файла**: тестирование успешной обработки корректного CSV файла
- **Отправка невалидного файла**: проверка обработки некорректного файла с соответствующими сообщениями об ошибках

#### Страница генератора (`GeneratePage.spec.ts`)
- **Успешная генерация CSV файла**: тестирование создания и скачивания сгенерированного файла

## Инструкции по запуску

### Предварительные требования
- Node.js (версия 18 или выше)
- npm или yarn

### Установка зависимостей
```bash
npm install
```

### Запуск в режиме разработки
```bash
npm run dev
```
Приложение будет доступно по адресу: `http://localhost:5173`

**Не забудьте запустить backend!**


## Запуск тестов

### Unit тесты (Vitest)
```bash
npm test
```

### End-to-End тесты (Playwright)
```bash
npm run test:e2e
```

## Структура проекта

```
analytics-service/
├── src/
│   ├── pages/
│   │   ├── CsvAnalytic/
│   │   │   ├── AggregationResult.test.tsx          # Тесты отображения прогресса обработки
│   │   │   └── components/
│   │   │       └── fileUploader/
│   │   │           ├── FileUploader.test.tsx       # Тесты компонента загрузки файлов
│   │   │           └── __snapshots__/
│   │   │               └── FileUploader.test.tsx.snap
│   │   ├── CsvGenerator/
│   │   │   └── Generate.test.tsx                   # Тесты генерации CSV файлов
│   │   └── History/
│   │       └── History.test.tsx                    # Тесты истории загрузок
│   └── components/
│       └── headerMenu/
│           └── HeaderMenu.test.tsx                 # Тесты навигационного меню
├── tests-e2e/                                       # End-to-End тесты
│   ├── AnalyticPage.spec.ts                        # E2E тесты аналитической страницы
│   ├── GeneratePage.spec.ts                        # E2E тесты страницы генератора
│   ├── consts.ts                                    # Константы для E2E тестов
│   └── fixtures/                                    # Тестовые файлы для E2E
│       ├── empty.csv                               # Пустой CSV файл для тестирования
│       └── file.csv                                # Валидный CSV файл для тестирования
├── __mocks__/                                       # Моки для тестов
│   └── styleMock.js                                # Мок для CSS модулей
├── vitest.config.ts                                # Конфигурация Vitest
├── playwright.config.ts                            # Конфигурация Playwright
```

