# Analytics Service

Веб-приложение для анализа и генерации CSV файлов с возможностью агрегации данных.

##  Запуск проекта

### Требования
- Node.js (версия 18 или выше)
- npm или yarn

### Установка и запуск

1. **Клонируйте репозиторий**
   ```bash
   git clone <url-репозитория>
   cd analytics-service
   ```

2. **Установите зависимости**
   ```bash
   npm install
   ```

3. **Запустите проект в режиме разработки**
   ```bash
   npm run dev
   ```

4. **Откройте браузер**
   Приложение будет доступно по адресу: `http://localhost:5173`


##  Архитектура

### Технологии
- **React** - основная библиотека
- **TypeScript** - типизация
- **Vite** - сборщик
- **react-router-dom** - навигация
- **Zustand** - управление состоянием
- **CSS Modules** - стилизация

### Структура проекта

```
src/
├── api/                    # API запросы
│   ├── getGeneratedFile.ts # Получение сгенерированного файла
│   └── postFile.ts         # Загрузка файла на сервер, для получения аггрегированных данных
│
├── assets/                 # Статические ресурсы
│   ├── icons/              # SVG иконки
│
├── components/             # React компоненты
│   ├── UI/                 # Переиспользуемые UI компоненты
│   ├── aggregationResult/  # Результаты агрегации
│   ├── fileGenerator/      # Генератор файлов
│   ├── fileUploader/       # Загрузчик файлов
│   ├── header/             # Шапка приложения
│   ├── headerMenu/         # Меню в шапке
│   ├── historyItem/        # Элемент истории
│   └── modal/              # Модальное окно
│
├── features/               # Бизнес-логика
│   ├── aggregation/        # Логика агрегации данных
│   │   ├── AggregationFields.ts      # Агрегирует метрики из стора в единый массив данных
│   │   ├── AggregationSelectors.ts   # Предоставляет хуки-селекторы для чтения агрегированных данных из стора
│   ├── fileUploader/       # Логика загрузки файлов
│   │   ├── AggregateFile.ts
│   │   ├── DragAndDrop.ts        # Логика работы Drag and Drop
│   │   ├── handleClear.ts        # Обработчик кнопки очистки
│   │   ├── HandleFileChange.ts   # Обработчик изменения файла в input
│   │   ├── HandleUpload.ts
│   └── generateFile/       # Логика генерации файлов
│
├── functions/              # Вспомогательные функции
│   ├── dayToDate.ts        # Конвертация дня в дату
│   └── transformAggregationData.ts # Трансформация данных агрегации
│
├── pages/                  # Страницы приложения
│   ├── CsvAnalytic/        # Страница анализа CSV
│   ├── CsvGenerator/       # Страница генерации CSV
│   └── History/            # Страница истории
│
├── store/                  # Zustand сторы
│   ├── aggregationStore.ts # Состояние агрегации
│   ├── fileStore.ts        # Состояние файлов
│   ├── generateFileStore.ts # Состояние генерации
│   └── historyStore.ts     # Состояние истории
│
├── types/                  # глобальные TypeScript типы
```

### Основные страницы
- **Главная** (`/`) - анализ CSV файлов
- **Генератор** (`/generator/`) - создание CSV файлов
- **История** (`/history/`) - история операций

### Управление состоянием
Используется Zustand для управления состоянием приложения:
- `fileStore` - состояние загруженных файлов
- `aggregationStore` - результаты агрегации
- `generateFileStore` - генерация файлов
- `historyStore` - история операций

### API
Приложение взаимодействует с бэкендом через API:
- Загрузка файлов для анализа
- Генерация CSV файлов

##  Функциональность

- Загрузка и анализ CSV файлов
- Агрегация данных по различным параметрам
- Генерация CSV файлов с заданными параметрами
- История операций
- Drag & Drop загрузка файлов
